import 'field.dart';

class Exploitation {
  final String? id;
  final String name;
  final String speciality;
  final List<Field> fields;
  final String? playerId;

  Exploitation(
      {this.id,
      required this.name,
      required this.speciality,
      required this.fields,
      this.playerId});

  factory Exploitation.fromMap(Map<String, dynamic> data) {
    return Exploitation(
        id: data['id'],
        name: data['name'],
        speciality: data['speciality'],
        fields: (data['fields'] as List<dynamic>)
            .map((e) => Field.fromMap(e))
            .toList(),
        playerId: data['playerId']);
  }

  Map<String, dynamic> toMap() {
    return {
      'id': id,
      'name': name,
      'speciality': speciality,
      'fields': fields.map((f) => f.toMap()).toList(),
      'playerId': playerId
    };
  }

  Exploitation copyWith({
    String? id,
    String? name,
    String? speciality,
    List<Field>? fields,
    String? playerId,
  }) {
    return Exploitation(
        id: id ?? this.id,
        name: name ?? this.name,
        speciality: speciality ?? this.speciality,
        fields: fields ?? this.fields,
        playerId: playerId ?? this.playerId);
  }
}
